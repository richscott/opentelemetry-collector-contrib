description: Config defines user-specified configurations unique to the EC2 detector
type: object
properties:
  fail_on_missing_metadata:
    type: boolean
  max_attempts:
    type: integer
  max_backoff:
    type: string
    format: duration
  resource_attributes:
    $ref: ./internal/metadata.resource_attributes_config
  tags:
    description: Tags is a list of regex's to match ec2 instance tag keys that users want to add as resource attributes to processed data
    type: array
    items:
      type: string
  tags_from_imds:
    description: 'TagsFromIMDS controls whether instance tags are fetched via IMDS (true) or via the EC2 DescribeTags API (false, default). IMDS does not require IAM permissions but requires InstanceMetadataTags=enabled on the instance. Note: IMDS must be network-accessible from the process; workloads running in containers (e.g., EKS pods, ECS tasks) may not have access to IMDS even if it is enabled on the host, unless the instance metadata options are configured to allow container access.'
    type: boolean
